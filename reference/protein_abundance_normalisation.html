<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Perform normalization of LiP peptide data by protein abundance from tryptic controls — protein_abundance_normalisation • protti</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Perform normalization of LiP peptide data by protein abundance from tryptic controls — protein_abundance_normalisation" />
<meta property="og:description" content="LiP peptide intensities are normalised by protein abundances from tryptic controls to correct for protein fold changes due to treatment." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">protti</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/quality_control_workflow.html">Qualtiy control (QC) workflow</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jpquast/protti/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Perform normalization of LiP peptide data by protein abundance from tryptic controls</h1>
    <small class="dont-index">Source: <a href='https://github.com/jpquast/protti/blob/master/R/protein_abundance_normalisation.R'><code>R/protein_abundance_normalisation.R</code></a></small>
    <div class="hidden name"><code>protein_abundance_normalisation.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>LiP peptide intensities are normalised by protein abundances from tryptic controls to correct for protein fold changes due to treatment.</p>
    </div>

    <pre class="usage"><span class='fu'>protein_abundance_normalisation</span><span class='op'>(</span>
  <span class='va'>lip_peptides</span>,
  <span class='va'>tc_proteins</span>,
  <span class='va'>sample</span>,
  <span class='va'>grouping</span>,
  <span class='va'>condition</span>,
  <span class='va'>protein_id</span>,
  <span class='va'>peptide_intensity</span>,
  <span class='va'>protein_intensity</span>,
  <span class='va'>method</span>,
  paired <span class='op'>=</span> <span class='cn'>FALSE</span>,
  replicate_index <span class='op'>=</span> <span class='cn'>NULL</span>,
  comparison <span class='op'>=</span> <span class='cn'>NULL</span>,
  completeness <span class='op'>=</span> <span class='fl'>0.7</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>lip_peptides</th>
      <td><p>A data frame containing LiP peptide level data. The <code>sample, protein_id, grouping, condition, peptide_intensity</code> variables 
are required. Ideally the output of <code>assign_missingness</code> or <code>impute</code> is used for the method <code>"ref_vs_rest"</code>, since here also the variable 
<code>missingness</code> is required in contrast to method <code>"all_vs_all"</code>.</p></td>
    </tr>
    <tr>
      <th>tc_proteins</th>
      <td><p>A data frame containing tryptic control protein level data. The <code>sample, protein_id, condition, protein_intensity</code> variables
are required. Ideally the output of <code>assign_missingness</code> or <code>impute</code> is used for the method <code>"ref_vs_rest"</code>, since here also the variable 
<code>missingness</code> is required in contrast to method <code>"all_vs_all"</code>.</p></td>
    </tr>
    <tr>
      <th>sample</th>
      <td><p>The column in the data frame containing the sample name. Is not required if <code>method = "t-test_mean_sd"</code>.</p></td>
    </tr>
    <tr>
      <th>grouping</th>
      <td><p>The column in the data frame containing precursor or peptide identifiers.</p></td>
    </tr>
    <tr>
      <th>condition</th>
      <td><p>The column in the data frame containing the conditions.</p></td>
    </tr>
    <tr>
      <th>protein_id</th>
      <td><p>The column in the data frame containing the protein accession numbers.</p></td>
    </tr>
    <tr>
      <th>peptide_intensity</th>
      <td><p>The column in the data frame containing peptide intensity values. The intensity values need to be log2 transformed.</p></td>
    </tr>
    <tr>
      <th>protein_intensity</th>
      <td><p>The column in the data frame containing protein intensity values. The intensity values need to be log2 transformed.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>A character vector specifying which method should be used. If <code>method = "all_vs_all"</code> an ANOVA based method will be performed that 
compares all conditions with each other followed by Tukey's honestly significant difference test to identify pairs of conditions that are significantly different.
If <code>method = "ref_vs_rest"</code> a reference condition will be compared against all other conditions using a Welch t-test in order to identify significantly
changing peptides or precursors.</p></td>
    </tr>
    <tr>
      <th>paired</th>
      <td><p>A logical indicating if LiP and tryptic control replicates for each condition are paired. That means they belong together because they were 
taken from the exact same sample and then split in LiP and tryptic control conditions. If they are paired protein abundances are only used if there was a 
corresponding peptide detected in the LiP condition.</p></td>
    </tr>
    <tr>
      <th>replicate_index</th>
      <td><p>The column in the data frame containing numbering for condition replicates. This column is only required if LiP and tryptic control samples are paired.
In that case the corresponding samples in both files should have the same numbering.</p></td>
    </tr>
    <tr>
      <th>comparison</th>
      <td><p>The column in the data frame containing comparison information of treatment/reference condition pairs. Can be obtained by 
calling <code>assign_missingness</code>.</p></td>
    </tr>
    <tr>
      <th>completeness</th>
      <td><p>The minimal degree of data completeness to be considered for evaluation. Value has to be between 0 and 1, default is 0.7. It is multiplied 
with the number of replicates and then adjusted downward. The resulting number is the minimal number of observations for each condition to be considered for
evaluation.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame that contains significance test statistics and differential abundances (<code>diff</code>) for each peptide or precursor and the 
corresponding comparison of conditions. If <code>method = "all_vs_all"</code> was used, ANOVA statistics are reported (<code>ms_group, ms_error, f, pval, adj_pval, n_conditions</code>). 
<code>ms_group</code> is the error within a group and <code>ms_error</code> is the error between groups. Also Tukey's honestly significant difference test statistics are 
reported (<code>df, q_value, pval_tukey</code>). If <code>method = "ref_vs_rest"</code> Welch t-test statistics are reported (<code>std_error, t_statistic, pval, adj_pval</code>).</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'>protein_abundance_normalisation</span><span class='op'>(</span>
lip_peptides <span class='op'>=</span> <span class='va'>data_lip</span>, 
tc_proteins <span class='op'>=</span> <span class='va'>data_tc</span>, 
sample <span class='op'>=</span> <span class='va'>r_file_name</span>,
protein_id <span class='op'>=</span> <span class='va'>pg_protein_accessions</span>, 
grouping <span class='op'>=</span> <span class='va'>eg_precursor_id</span>, 
condition <span class='op'>=</span> <span class='va'>r_condition</span>,
peptide_intensity <span class='op'>=</span> <span class='va'>normalised_intensity_log2</span>,
protein_intensity <span class='op'>=</span> <span class='va'>protein_intensity_log2</span>,
method <span class='op'>=</span> <span class='st'>"all_vs_all"</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jan-Philipp Quast, Dina Schuster.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


